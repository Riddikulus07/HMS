{"ast":null,"code":"var _jsxFileName = \"D:\\\\Assignments\\\\DBMS-2\\\\Hospital-Management-System-DBMS-master\\\\frontend\\\\src\\\\PatientsViewAppt.js\";\nimport React, { Component } from 'react';\nimport { Box, Heading, Grommet, Button } from 'grommet';\nimport './App.css';\nconst theme = {\n  global: {\n    colors: {\n      brand: '#000000',\n      focus: '#000000'\n    },\n    font: {\n      family: 'Lato'\n    }\n  }\n};\n\nconst AppBar = props => /*#__PURE__*/React.createElement(Box, Object.assign({\n  tag: \"header\",\n  direction: \"row\",\n  align: \"center\",\n  justify: \"between\",\n  background: \"brand\",\n  pad: {\n    left: 'medium',\n    right: 'small',\n    vertical: 'small'\n  },\n  style: {\n    zIndex: '1'\n  }\n}, props, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }\n}));\n\nexport class PatientsViewAppointments extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      appointmentsState: []\n    };\n  }\n\n  componentDidMount() {\n    this.getNames(\"\");\n  }\n\n  getNames(value) {\n    let patName = value;\n    console.log(patName);\n    fetch(\"http://localhost:3001/userInSession\").then(res => res.json()).then(res => {\n      var string_json = JSON.stringify(res);\n      var email_json = JSON.parse(string_json);\n      let email_in_use = email_json.email;\n      fetch('http://localhost:3001/patientViewAppt?email=' + email_in_use).then(res => res.json()).then(res => {\n        this.setState({\n          appointmentsState: res.data\n        });\n      });\n    });\n  }\n\n  render() {\n    const {\n      appointmentsState\n    } = this.state;\n\n    const Body = () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"panel panel-default p50 uth-panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }\n    }, \"Date of Appointment\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }\n    }, \"Start Time\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 33\n      }\n    }, \"End Time\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 33\n      }\n    }, \"Concerns\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 33\n      }\n    }, \"Symptoms\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }, \"Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }, appointmentsState.map(patient => /*#__PURE__*/React.createElement(\"tr\", {\n      key: patient.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 37\n      }\n    }, new Date(patient.theDate).toLocaleDateString().substring(0, 10)), /*#__PURE__*/React.createElement(\"td\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 37\n      }\n    }, patient.theStart.substring(0, 5)), /*#__PURE__*/React.createElement(\"td\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 37\n      }\n    }, patient.theEnd.substring(0, 5)), /*#__PURE__*/React.createElement(\"td\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, patient.theConcerns, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }, patient.theSymptoms), /*#__PURE__*/React.createElement(\"td\", {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 37\n      }\n    }, patient.status), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: \"See Diagnosis\",\n      href: `/showDiagnoses/${patient.ID}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, patient.status === \"NotDone\" ? /*#__PURE__*/React.createElement(Button, {\n      label: \"Cancel\",\n      onClick: () => {\n        fetch('http://localhost:3001/deleteAppt?uid=' + patient.ID);\n        window.location.reload();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }) : /*#__PURE__*/React.createElement(Button, {\n      label: \"Delete\",\n      onClick: () => {\n        fetch('http://localhost:3001/deleteAppt?uid=' + patient.ID);\n        window.location.reload();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 41\n      }\n    }))))))));\n\n    return /*#__PURE__*/React.createElement(Grommet, {\n      theme: theme,\n      full: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Box, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: 'inherit',\n        textDecoration: 'inherit'\n      },\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Heading, {\n      level: \"3\",\n      margin: \"none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 88\n      }\n    }, \"HMS\"))), /*#__PURE__*/React.createElement(Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\nexport default PatientsViewAppointments;","map":{"version":3,"sources":["D:/Assignments/DBMS-2/Hospital-Management-System-DBMS-master/frontend/src/PatientsViewAppt.js"],"names":["React","Component","Box","Heading","Grommet","Button","theme","global","colors","brand","focus","font","family","AppBar","props","left","right","vertical","zIndex","PatientsViewAppointments","state","appointmentsState","componentDidMount","getNames","value","patName","console","log","fetch","then","res","json","string_json","JSON","stringify","email_json","parse","email_in_use","email","setState","data","render","Body","map","patient","user","Date","theDate","toLocaleDateString","substring","theStart","theEnd","theConcerns","theSymptoms","status","ID","window","location","reload","color","textDecoration"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\n\nimport {\n    Box,\n    Heading,\n    Grommet,\n    Button\n} from 'grommet';\n\nimport './App.css';\n\nconst theme = {\n    global: {\n        colors: {\n            brand: '#000000',\n            focus: '#000000'\n        },\n        font: {\n            family: 'Lato',\n        },\n    },\n};\n\nconst AppBar = (props) => (\n    <Box\n        tag='header'\n        direction='row'\n        align='center'\n        justify='between'\n        background='brand'\n        pad={{ left: 'medium', right: 'small', vertical: 'small' }}\n        style={{ zIndex: '1' }}\n        {...props} />\n);\n\nexport class PatientsViewAppointments extends Component {\n    state = { appointmentsState: [] }\n    componentDidMount() {\n        this.getNames(\"\");\n    }\n    getNames(value) {\n        let patName = value;\n        console.log(patName);\n        fetch(\"http://localhost:3001/userInSession\")\n            .then(res => res.json())\n            .then(res => {\n                var string_json = JSON.stringify(res);\n                var email_json = JSON.parse(string_json);\n                let email_in_use = email_json.email;\n                fetch('http://localhost:3001/patientViewAppt?email=' + email_in_use)\n                    .then(res => res.json())\n                    .then(res => {\n                        this.setState({ appointmentsState: res.data });\n                    });\n            });\n    }\n    render() {\n        const { appointmentsState } = this.state;\n        const Body = () => (\n            <div className=\"container\">\n                <div className=\"panel panel-default p50 uth-panel\">\n                    <table className=\"table table-hover\">\n                        <thead>\n                            <tr>\n                            <th>Date of Appointment</th>\n                                <th>Start Time</th>\n                                <th>End Time</th>\n                                <th>Concerns</th>\n                                <th>Symptoms</th>\n                                <th>Status</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {appointmentsState.map(patient =>\n                                <tr key={patient.user}>\n                                    <td align=\"center\" >\n                                        {new Date(patient.theDate).toLocaleDateString().substring(0, 10)}\n                                    </td>\n                                    <td align=\"center\" >{patient.theStart.substring(0, 5)}</td>\n                                    <td align=\"center\" >{patient.theEnd.substring(0, 5)}</td>\n                                    <td align=\"center\">{patient.theConcerns} </td>\n                                    <td align=\"center\">{patient.theSymptoms}</td>\n                                    <td align=\"center\">{patient.status}</td>\n                                    <td>\n                                        <Button label=\"See Diagnosis\"\n                                        href={`/showDiagnoses/${patient.ID}`}\n                                        ></Button>     \n                                    </td> \n                                    <td>\n                                    {   patient.status===\"NotDone\"?\n                                        <Button label=\"Cancel\"\n                                        onClick = {() => {\n                                            fetch('http://localhost:3001/deleteAppt?uid='+ patient.ID)\n                                            window.location.reload()\n                                        }}\n                                        ></Button>\n                                        :\n                                        <Button label=\"Delete\"\n                                        onClick = {() => {\n                                            fetch('http://localhost:3001/deleteAppt?uid='+ patient.ID)\n                                            window.location.reload()\n                                        }}\n                                        ></Button>\n                                    }\n                                    </td>\n                                </tr>\n                            )}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        );\n        return (\n            <Grommet theme={theme} full>\n                <Box >\n                    <AppBar>\n                    <a style={{ color: 'inherit', textDecoration: 'inherit'}} href=\"/\"><Heading level='3' margin='none'>HMS</Heading></a>\n                    </AppBar>\n                    <Body />\n                </Box>\n            </Grommet>\n        );\n    }\n}\n\nexport default PatientsViewAppointments;"]},"metadata":{},"sourceType":"module"}